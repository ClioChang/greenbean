<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>bookDetailPage</title>
    <link th:replace="fragments :: boostrapCSS">
    <link th:replace="fragments :: fontAwesomeCSS">
    <link th:replace="fragments :: headerCSS">
    <link th:replace="fragments :: starCSS">
    <link href="book.css" th:href="@{/static/template/book.css}" rel="stylesheet">
</head>
<body>
    <header th:include="fragments :: header"></header>

    <div class="container" id="wrapper">
        <div class="row">
            <div class="col-sm-12" id="bookName">
                <h1><span th:text="${bookPage.bookName}"></span></h1>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-8">
                <div class="row">
                    <div class="col-sm-3">
                        <a>
                            <!-- XXX IDEA语法错误的错误提示 -->
                            <img class="bookImg" th:src="${bookPage.picture != null}? @{/static/picture/books/{bookItemPicture}(bookItemPicture=${bookPage.picture})} : @{/static/pic/bookDefault.gif}" title="bookName">
                        </a>
                        <p><a>Update Information</a></p>
                    </div>
                    <div class="col-sm-6 px-sm-0" id="bookInfo">
                        <p th:if="${bookPage.authorName}">Author: <span th:text="${bookPage.authorName}"></span></p>
                        <p th:if="${bookPage.publisher}">Publisher: <span th:text="${bookPage.publisher}"></span></p>
                        <p th:if="${bookPage.originalName}">Original Name: <span th:text="${bookPage.originalName}"></span></p>
                        <p th:if="${bookPage.translatorName}">Translator: <span th:text="${bookPage.translatorName}"></span></p>
                        <p th:if="${bookPage.publicationDate}">PublicationDate: <span th:text="${bookPage.publicationDate}"></span></p>
                        <p th:if="${bookPage.page}">Page: <span th:text="${bookPage.page}"></span></p>
                        <p th:if="${bookPage.price}">Price: <span th:text="${bookPage.price}"></span>元</p>
                        <p th:if="${bookPage.binding}">Binding: <span th:text="${bookPage.binding}"></span></p>
                        <p th:if="${bookPage.isbn}">ISBN: <span th:text="${bookPage.isbn}"></span></p>
                    </div>
                    <div class="col-sm-3" id="greenbeanRatingDiv">
                        <div class="row greenbeanRatingRowDiv">
                                <span>GreenbeanRating</span>
                        </div>
                        <div class="row">
                            <div class="col-sm-4 ratingCountDiv" th:if="${bookPage.rating}">
                                <span th:text="${bookPage.rating}"></span>
                            </div>
                            <div class="col-sm-8 starDiv">
                                <div class="bigStarImg" th:classappend="'bigStar' + ${bookPage.starRatingName}"></div>
                                <div class="ratingDiv">
                                    <span th:text="${bookPage.ratingCount}"></span>&nbsp;Rating
                                </div>
                            </div>
                        </div>

                        <div class="row power" th:each="percentage,iterate : ${bookPage.ratingPercentageList}">
                            <span class="starCount" th:text="${5 - iterate.index} + (${iterate.last}? ' Star' : ' Stars')">5 Stars</span>
                            <div class="starPowerDiv">
                                <div class="starPower" th:styleappend="'width:' + ${bookPage.ratingPowerPercentageList[iterate.index]}"></div>
                            </div>
                            <div>
                                <span class="powerPercentage" th:text="${percentage}"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" id="ratingSignRow">
                    <div class="col-sm-12">
                        <button class="btn btn-outline-warning">Reading</button>
                        <button class="btn btn-outline-warning">Read</button>
                        <span>Rating:</span>
                        <span id="ratingClickStar" th:attr="data-hollow=@{/static/pic/hollowStar.png},data-solid=@{/static/pic/solidStar.png}">
                            <a th:each="i : ${#numbers.sequence(0,4)}">
                                <img th:src="@{/static/pic/hollowStar.png}" th:attr="data-index=${i}">
                            </a>
                        </span>
                        <span id="ratingStarIntro"></span>
                    </div>
                </div>
                <div class="row contentIntroDiv" th:if="${bookPage.contentIntroList}">
                    <div class="col-sm-12">
                        <h4>Contents Introduction······</h4>
                        <div class="introduction">
                            <p th:each="item : ${bookPage.contentIntroList}" th:text="${item}"></p>
                        </div>
                    </div>
                </div>
                <div class="row contentIntroDiv" th:if="${bookPage.authorIntroList}">
                    <div class="col-sm-12">
                        <h4>Author Introduction······</h4>
                        <div class="introduction">
                            <p th:each="item : ${bookPage.authorIntroList}" th:text="${item}"></p>
                        </div>
                    </div>
                </div>
                <div class="row contentIntroDiv" th:if="${bookPage.directoryList}">
                    <div class="col-sm-12">
                        <h4>Directory······</h4>
                        <div id="directory" class="introduction">
                            <p th:each="item : ${bookPage.directoryList}" th:text="${item}"></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4"></div>
        </div>
    </div>

    <script th:replace="fragments :: jQueryJS"></script>
    <script th:replace="fragments :: popperJS"></script>
    <script th:replace="fragments :: bootstrapJS"></script>
    <script th:replace="fragments :: headerJS"></script>
    <script src="book.js" th:src="@{/static/template/book.js}"></script>
</body>
</html>